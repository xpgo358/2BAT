<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Ejercicio 13</title>
  </head>
  <body>
    <!-- Ejercicio 13: Cálculo número PI de manera recursiva con método Nilakantha -->
    <script>
      function calcularPIRecursivo(termino, terminosMaximos) {
        if (termino === 0) {
          return 3;
        }
        var n = 2 + (termino - 1) * 2;
        var denominador = n * (n + 1) * (n + 2);
        var signo = termino % 2 === 1 ? 1 : -1;
        var termActual = (4 / denominador) * signo;
        return termActual + calcularPIRecursivo(termino - 1, terminosMaximos);
      }
      var cantidadTerminos = prompt("Introduce el número de iteraciones para calcular PI:", "20");
      cantidadTerminos = parseInt(cantidadTerminos);
      if (isNaN(cantidadTerminos) || cantidadTerminos < 1) {
        cantidadTerminos = 20;
      };
      var pi = calcularPIRecursivo(cantidadTerminos, cantidadTerminos);
      document.write(
        "PI calculado (método Nilakantha recursivo): " +
          pi +
          "<br>",
      );

      console.log("PI calculado: " + pi);
    </script>
  </body>
</html>
